<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Identity Threat</title>
    <style>
        @font-face { font-family: 'TronFont'; src: url('tron.ttf'); }
        body { 
            margin: 0; padding: 0; 
            background: url("grid.webp") no-repeat center center fixed; 
            background-size: cover; height: 100vh; overflow: hidden; 
            background-color: #000; 
        }

        #mei-sprite { 
            position: absolute; bottom: 100px; left: 50%;
            transform: translateX(-50%); height: 85%; z-index: 5;
        }

        .dialogue-box { 
            position: absolute; bottom: 50px; left: 50%;
            transform: translateX(-50%); width: 70%;
            background: rgba(0, 20, 40, 0.9); border: 2px solid #00ffff;
            padding: 25px 30px; z-index: 10; backdrop-filter: blur(8px);
        }

        /* Added Header Styling */
        .speaker-header {
            font-family: 'TronFont', sans-serif;
            color: #00ffff;
            font-size: 0.9rem;
            letter-spacing: 2px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        #text-content { 
            color: #e0ffff; font-family: 'Courier New', monospace;
            font-size: 1.2rem; line-height: 1.5;
            min-height: 4.5em; /* Keeps the box from jumping when text starts */
        }

        .btn { 
            margin-top: 20px; background: transparent; border: 1px solid #ff00ff;
            color: #ff00ff; padding: 10px 25px; font-family: 'TronFont', sans-serif;
            cursor: pointer; transition: 0.3s;
        }
        .btn:hover { background: #ff00ff; color: black; box-shadow: 0 0 20px #ff00ff; }
    </style>
</head>
<body>

    <img src="determined.png" id="mei-sprite" alt="Mei">

    <div class="dialogue-box">
        <div class="speaker-header">MEI</div>
        <div id="text-content"></div>
        <button class="btn" id="next-btn" style="display:none;" onclick="location.href='page6.html'">SECURE MY DATA</button>
    </div>

    <script>
        const pName = localStorage.getItem("playerTagName") || "User";
        const textElement = document.getElementById('text-content');
        const nextBtn = document.getElementById('next-btn');

        const message = "Listen closely, " + pName + ". Out there, identity is everything. Infiltrators use Generative AI to impersonate programs, tricking them into revealing private images and secrets. This is how Online Grooming starts: by gaining trust through a fake face. You need a shield.";

        let i = 0;
        function typeWriter() {
            if (i < message.length) {
                textElement.innerHTML += message.charAt(i);
                i++;
                setTimeout(typeWriter, 40);
            } else {
                nextBtn.style.display = "inline-block";
            }
        }

        window.onload = typeWriter;
    </script>
</body>
</html>