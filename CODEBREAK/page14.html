<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Mirror Reflection</title>
    <style>
        @font-face { font-family: 'TronFont'; src: url('tron.ttf'); }
        
        body { 
            margin: 0; padding: 0; 
            background: url("inside.jpg") no-repeat center center fixed; 
            background-size: cover; height: 100vh; overflow: hidden; 
            background-color: #000; 
        }

        #duplicates-img { 
            position: absolute; bottom: 25%; left: 50%;
            transform: translateX(-50%); height: 55vh; 
            z-index: 5; object-fit: contain;
        }

        .dialogue-box { 
            position: absolute; bottom: 20px; left: 50%;
            transform: translateX(-50%); width: 55%; 
            background: rgba(0, 10, 20, 0.95); 
            border: 1px solid #ff00ff; 
            box-shadow: 0 0 15px #ff00ff; 
            padding: 20px 25px; z-index: 10; 
            backdrop-filter: blur(8px); text-align: left; 
        }

        .speaker-heading { 
            font-family: 'TronFont', sans-serif; color: #ff00ff; 
            margin-bottom: 8px; font-size: 0.9rem; letter-spacing: 1.5px;
        }

        #text-content { 
            color: #e0ffff; font-family: 'Segoe UI', sans-serif; 
            font-size: 1rem; line-height: 1.5; min-height: 4em;
        }

        .btn { 
            background: transparent; border: 1px solid #00ffff; 
            color: #00ffff; padding: 8px 20px; 
            font-family: 'TronFont', sans-serif; font-size: 0.8rem;
            cursor: pointer; margin-top: 10px;
        }
        
        .btn:hover { background: #00ffff; color: black; }
    </style>
</head>
<body>

    <img src="duplicates.png" id="duplicates-img" alt="Mei Duplicates">

    <div class="dialogue-box">
        <div class="speaker-heading" id="box-header">SYSTEM ANOMALY</div>
        <p id="text-content">
            As you step through the gate, the air shimmers. You look up, but Mei isn't alone... she's staring directly into her own eyes.
        </p>
        <button class="btn" id="action-btn" onclick="nextDialogue()">CONTINUE</button>
    </div>

    <script>
        // Name still fetched for dialogue, but not displayed in a bar
        const pName = localStorage.getItem("playerTagName") || "User";

        let step = 0;
        const dialogue = [
            { header: "???: IDENTITY UNKNOWN", text: "\"Wait... who are you? Why are you wearing my code? <b>" + pName + "</b>, don't move. Something is very wrong.\"" },
            { header: "???: IDENTITY UNKNOWN", text: "\"Don't listen to her, <b>" + pName + "</b>! I'm the real Mei. This is a <b>Generative AI Deepfake</b> sent to lead you into a trap!\"" },
            { header: "WARNING: DEEPFAKE DETECTED", text: "The Harvester has evolved, <b>" + pName + "</b>. It's no longer just stealing dataâ€”it's <b>impersonating</b> your allies to gain total control." },
            { header: "MISSION: IDENTIFY REALITY", text: "You have to choose. Look for the 'Digital Hallucinations.' One of them isn't quite right. Your choice determines our survival, <b>" + pName + "</b>" }
        ];

        function nextDialogue() {
            if (step < dialogue.length) {
                document.getElementById('box-header').innerText = dialogue[step].header;
                document.getElementById('text-content').innerHTML = dialogue[step].text;
                step++;
                
                if (step === dialogue.length) {
                    const btn = document.getElementById('action-btn');
                    btn.innerText = "ANALYZE SPRITES";
                    btn.onclick = () => window.location.href = 'page14 - game.html';
                    btn.style.borderColor = "#ff00ff";
                    btn.style.color = "#ff00ff";
                }
            }
        }
    </script>
</body>
</html>